var HilbertCurves;
(function (HilbertCurves) {
    function toHilbertCoordinates(maxCoordinate, x, y) {
        var rx, ry, s, hilbertIndex = 0;
        for (s = Math.floor(maxCoordinate / 2); s > 0; s /= 2) {
            rx = (x & s) > 0;
            ry = (y & s) > 0;
            hilbertIndex += s * s * ((3 * rx) ^ ry);
            var rotated = rotate(s, x, y, rx, ry);
            x = rotated[0];
            y = rotated[1];
        }
        return hilbertIndex;
    }
    HilbertCurves.toHilbertCoordinates = toHilbertCoordinates;
    function fromHilbertCoordinates(maxCoordinate, hilbertIndex) {
        var x, y, rx, ry, s, t = hilbertIndex;
        x = y = 0;
        for (s = 1; s < maxCoordinate; s *= 2) {
            rx = 1 & (t / 2);
            ry = 1 & (t ^ rx);
            var rotated = rotate(s, x, y, rx, ry);
            x = rotated[0];
            y = rotated[1];
            x += s * rx;
            y += s * ry;
            t /= 4;
        }
        return [x, y];
    }
    HilbertCurves.fromHilbertCoordinates = fromHilbertCoordinates;
    function rotate(maxCoordinate, x, y, rx, ry) {
        var t;
        if (ry == 0) {
            if (rx == 1) {
                x = maxCoordinate - 1 - x;
                y = maxCoordinate - 1 - y;
            }
            t = x;
            x = y;
            y = t;
        }
        return [x, y];
    }
})(HilbertCurves || (HilbertCurves = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGlsYmVydEN1cnZlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkhpbGJlcnRDdXJ2ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTyxhQUFhLENBc0RuQjtBQXRERCxXQUFPLGFBQWEsRUFBQSxDQUFDO0lBQ3BCLDhCQUFzQyxhQUFxQixFQUFFLENBQVMsRUFBRSxDQUFTO1FBQ2hGLElBQUksRUFBTyxFQUFFLEVBQU8sRUFBRSxDQUFTLEVBQUUsWUFBWSxHQUFXLENBQUMsQ0FBQztRQUUxRCxHQUFHLENBQUEsQ0FBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEdBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUM7WUFDcEQsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNYLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakIsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUV4QyxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3RDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDZixDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFFRCxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQ3JCLENBQUM7SUFkZSxrQ0FBb0IsdUJBY25DLENBQUE7SUFFRCxnQ0FBd0MsYUFBcUIsRUFBRSxZQUFvQjtRQUNsRixJQUFJLENBQVMsRUFBRSxDQUFTLEVBQUUsRUFBTyxFQUFFLEVBQU8sRUFBRSxDQUFTLEVBQUUsQ0FBQyxHQUFXLFlBQVksQ0FBQztRQUU3RSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVWLEdBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGFBQWEsRUFBRSxDQUFDLElBQUcsQ0FBQyxFQUFFLENBQUM7WUFDcEMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztZQUNmLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFFbEIsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN0QyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2YsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVmLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ1osQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDWixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1gsQ0FBQztRQUVELE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBbkJlLG9DQUFzQix5QkFtQnJDLENBQUE7SUFFRCxnQkFBaUIsYUFBcUIsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLEVBQU8sRUFBRSxFQUFPO1FBQzdFLElBQUksQ0FBUyxDQUFDO1FBRWQsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDUCxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDVixDQUFDLEdBQUcsYUFBYSxHQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3hCLENBQUMsR0FBRyxhQUFhLEdBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QixDQUFDO1lBR0QsQ0FBQyxHQUFJLENBQUMsQ0FBQztZQUNQLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsQ0FBQztRQUNKLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNmLENBQUM7QUFDRixDQUFDLEVBdERNLGFBQWEsS0FBYixhQUFhLFFBc0RuQiJ9